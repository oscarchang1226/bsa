var AllThatApply=(function(){function c(f){var h,g;h=document.createElement("div");h.classList.add("answer-container");g=f.answers.map(function(j,i){var l,m,k;l="checkbox"+i;m=document.createElement("input");m.setAttribute("type","checkbox");m.setAttribute("id",l);m.setAttribute("value",i);k=document.createElement("label");k.classList.add("checkbox-label");k.setAttribute("for",l);k.appendChild(document.createTextNode(j.answerText));h.appendChild(m);h.appendChild(k);return h});return g}function b(f,g){if(g){return{className:"feedback-correct-answer",boldText:"Correct Answer: ",value:f.correctAnswer}}return{className:"feedback-selected-answer",boldText:"You selected: ",value:f.selected}}function e(g,k){var f,i,h,j;f=b(g,k);i=document.createElement("p");i.classList.add(f.className);h=document.createElement("b");h.appendChild(document.createTextNode(f.boldText));j=document.createTextNode(f.value);i.appendChild(h);i.appendChild(j);return i}function a(i){var j,k,h,g,f;j=0;k=i.maxScoreValue;h="";g="";f=i.answers.map(function(m,l){var n="checkbox"+l;if(m.scoreValue){h=h.length>0?h+", "+m.answerText:m.answerText}m.selected=false;m.isCorrect=false;if(document.getElementById(n).checked){m.selected=true;g=g.length>0?g+", "+m.answerText:m.answerText;m.isCorrect=m.scoreValue>0;j+=m.scoreValue||-1;j=j<0?0:j}return m}).filter(function(l){return l.selected});return{result:f,score:j,maxScore:k,correctAnswer:h,selected:g}}function d(f){var i=e(f,true),h=e(f),g=document.createElement("ul"),j=document.createElement("h4");j.appendChild(document.createTextNode("Feedback"));g.classList.add("feedback-list");f.result.forEach(function(l){var k=document.createElement("li");k.appendChild(document.createTextNode(l.feedBack));g.appendChild(k)});return[i,h,j,g]}return{getAnswer:c,getFeedback:d,checkAnswer:a}}());var FillInTheBlank=(function(){var d="Fill in the blanks with appropriate answers.";function b(k){if(k===undefined){k=true}if(k){var l=document.createElement("p");l.appendChild(document.createTextNode(d));l.classList.add("instructions");return l}return null}function c(k){return new RegExp(/(BLANK[\d]*)/,k)}function f(k){if(!k){k={}}var l='<input type="text" ';Object.keys(k).forEach(function(m){l+=m+'="'+k[m]+'" '});l+="/>";return l}function j(l){if(this!==l.target||l.defaultPrevented){return}if(l.key==="Enter"){l.target.value=l.target.value.trim();var k=document.querySelector(".actions button.submit");if(k){k.click()}}}function a(k){if(this!==k.target||k.defaultPrevented){return}k.target.value=k.target.value.trim()}function h(l){var k=document.createElement("p");k.innerHTML=l.replace(c("g"),function(n){return f({id:n})});k.classList.add("fill-in-the-blanks-question");k.querySelectorAll('input[type="text"]').forEach(function(m){m.addEventListener("keyup",j);m.addEventListener("blur",a)});return k}function g(k){return[b(),h(k.questionText)]}function e(k){var m=document.createElement("p"),l=document.createElement("p");m.innerHTML="<b>Correct Answer: </b>"+k.correctAnswer;m.classList.add("feedback-correct-answer");l.innerHTML="<b>You answered: </b>"+k.selected;l.classList.add("feedback-selected-answer");return[m,l]}function i(m){var o=m.maxScoreValue,n=0,l=m.questionText,k=m.questionText;m.answers.forEach(function(p){l=l.replace(c(),function(){return"<b>"+p.answerText+"</b>"})});document.querySelectorAll('input[type="text"]').forEach(function(q,p){var s=m.answers[p],r=q.value.toUpperCase(),t;k=k.replace(q.id,"<b>"+r+"</b>");if(s.answerText.toUpperCase()===r){n+=s.scoreValue}else{if(s.altAnswers){t=s.altAnswers.find(function(u){return u.answerText.toUpperCase()===r});if(t){n+=t.scoreValue}}}});return{maxScore:o,score:n,correctAnswer:l,selected:k}}return{getQuestion:g,getFeedback:e,checkAnswer:i}}());var Matching=(function(){var h=1,a,q='Match each item to the appropriate category. For keyboard only users, use the tab key to select an answer from the list and use the enter key to select it. Use tab again to select the correct dropzone and then hit the enter key to confirm your answer. Select an answer and hit the delete key to return it to its original position. Use the "Check Answers" button to get your results.';function g(y,A){var z=document.createElement(y);z.appendChild(document.createTextNode(A));return z}function u(y){y.target.classList.add("shadow")}function v(y){y.target.classList.remove("shadow")}function m(y){if(this!==y.target||y.defaultPrevented){return}if(y.key==="Enter"){if(a){if(a!==y.target){a.classList.remove("selected")}}a=y.target;a.classList.add("selected")}}function o(z){if(this!==z.target||z.defaultPrevented){return}if(z.key==="Enter"&&a){a.classList.remove("selected");z.target.classList.remove("empty");var y=a.parentNode.parentNode;z.target.querySelector(".dropzone").appendChild(a);if(y.querySelector(".dropzone").children.length===0){y.classList.add("empty")}a=undefined}}function k(y){y.dataTransfer.setData("nodeId",y.currentTarget.id)}function d(B){B.preventDefault();var D=B.dataTransfer.getData("nodeId"),A=document.getElementById(D),z=A.parentNode,C=z.parentNode,y=B.currentTarget;if(y.querySelector("ul.dropzone")){y=y.querySelector("ul.dropzone")}y.parentNode.classList.remove("empty");y.appendChild(A);if(z.children.length===0){C.classList.add("empty")}}function w(y){y.preventDefault()}function i(D){var y=D.target,B=D.targetTouches[0],A=document.querySelector("main"),z=y.parentNode,F,E=parent,G;if(y.tagName.toUpperCase()==="IMG"){y=y.parentNode;z=y.parentNode}if(!y.classList.contains("questionNode")){return}function C(H){if(parent&&parent.document.body.scrollTop+H<parent.document.body.offsetHeight){parent.document.body.scrollTop+=H}}y.classList.add("fixed","shadow");if(z.querySelectorAll("li:not(.fixed)").length===0){z.parentNode.classList.add("empty")}y.style.left=(B.pageX-(y.offsetWidth/2))+"px";y.style.top=(B.pageY-(y.offsetHeight/2))+"px";if(B.pageY<A.offsetTop){setInterval(C(-10),50)}else{if(B.pageY>(A.offsetHeight+A.offsetTop)){setInterval(C(10),50)}}y.addEventListener("touchend",function(H){y.classList.remove("fixed","shadow");y.removeAttribute("style");F=document.elementFromPoint(H.changedTouches[0].pageX,H.changedTouches[0].pageY);G=true;while(G&&F&&F.classList){if(F.classList.contains("answer-nodes")||F.classList.contains("question-nodes-container")){G=false}else{if(F.parentNode!==A){F=F.parentNode}else{F=null;G=false}}}if(F){F=F.querySelector(".dropzone");if(F!==z){F.appendChild(y)}if(z.children.length===0){z.parentNode.classList.add("empty")}F.parentNode.classList.remove("empty")}})}function x(y){if(y===undefined){y=true}if(y){var z=g("p",q);z.classList.add("instructions");return z}return null}function n(y,B){var A=document.createElement(y),z=document.createElement("img");z.setAttribute("alt",B.alt);z.setAttribute("src",B.src);A.appendChild(z);A.classList.add("media");return A}function c(){var y=document.createElement("i");y.appendChild(document.createTextNode("add"));y.classList.add("material-icons");return y}function j(z){var y=document.createElement("i");y.classList.add("material-icons");if(z){y.appendChild(document.createTextNode("check"))}else{y.appendChild(document.createTextNode("clear"))}return y}function b(B){var y=document.createElement("div"),z=document.createElement("ul"),A=c();y.classList.add("question-nodes-container");z.classList.add("dropzone");B.forEach(function(E,D){var C;if(E.type==="image"){C=n("li",E)}else{C=g("li",E.question)}C.classList.add("questionNode");C.setAttribute("id",D);C.setAttribute("draggable","true");C.setAttribute("ondragstart","Matching.onDragStart(event)");C.setAttribute("ontouchmove","onTouchMove(event)");C.setAttribute("tabIndex",h);h+=1;C.addEventListener("mouseleave",v);C.addEventListener("keyup",m);z.appendChild(C)});if(z.children.length===0){y.classList.add("empty")}y.setAttribute("ondragover","Matching.onDragOver(event)");y.setAttribute("ondrop","Matching.onDrop(event)");y.appendChild(z);y.appendChild(A);return y}function r(z){var y=document.createElement("div");y.classList.add("answer-nodes-container");z.forEach(function(C){var D=document.createElement("div"),E=g("h4",C.title),A=document.createElement("ul"),B=c();A.classList.add("dropzone");A.setAttribute("id",C.key);D.classList.add("answer-nodes","empty");D.appendChild(E);D.appendChild(A);D.appendChild(B);D.setAttribute("ondragover","Matching.onDragOver(event)");D.setAttribute("ondrop","Matching.onDrop(event)");D.setAttribute("tabIndex",h);h+=1;D.addEventListener("focus",u);D.addEventListener("blur",v);D.addEventListener("mouseleave",v);D.addEventListener("keyup",o);y.appendChild(D)});return y}function p(A,y){var z=g("p",A.questionText);z.classList.add("question");return[x(y.showInstruction),z]}function s(y){a=undefined;return[b(y.QuestionNodes),r(y.AnswerNodes)]}function f(y){var z=y.map(function(C){var A=document.createElement("div"),D=g("h4",C.title),B=document.createElement("ul");A.classList.add("feedback-container","matching");B.classList.add("feedback-list");C.lis.forEach(function(E){var H=["feedback-item",E.isCorrect?"correct":"wrong"],F,G;if(E.type==="image"){F=n("li",E)}else{F=g("li",E.question)}H.forEach(function(I){F.classList.add(I)});if(!E.isCorrect&&E.correctAnswer){F.appendChild(g("span","("+E.correctAnswer+")"))}F.appendChild(j(E.isCorrect));if(E.feedback.indexOf("</")>-1){G=document.createElement("li");G.classList.add("custom");G.innerHTML=E.feedback;G.insertBefore(g("b","Feedback: "),G.firstChild)}else{G=g("li","Feedback: "+E.feedback)}B.appendChild(F);B.appendChild(G)});A.appendChild(D);A.appendChild(B);return A});return z}function e(y){var z=f(y.result);return z}function t(){a=undefined;var z=document.querySelectorAll("div.content li"),B=document.querySelector(".question-nodes-container ul.dropzone"),A=document.querySelectorAll("div.answer-nodes"),y,C;document.querySelector(".question-nodes-container").classList.remove("empty");for(y=0;y<z.length;y+=1){B.appendChild(z[y])}for(C=0;C<A.length;C+=1){A[C].classList.add("empty")}}function l(A){var z=A.QuestionNodes,C={},B=0,y=[];A.AnswerNodes.forEach(function(D){C[D.key]={title:D.title,answers:z.filter(function(E){return E.answer===D.key})}});document.querySelectorAll(".answer-nodes .dropzone").forEach(function(D){y.push({key:D.id,title:D.previousSibling.innerHTML,lis:[]})});document.querySelectorAll(".dropzone li").forEach(function(D){var G=A.QuestionNodes[D.id],H=D.parentElement,F=(H.id||false)===(G.answer||false),E;G.feedback=F?G.correct:G.wrong;G.isCorrect=F;if(!F){if(G.answer){G.correctAnswer=C[G.answer].title}}else{B+=G.scoreValue}E=y.filter(function(I){return I.key===H.id});if(E.length===1){E[0].lis.push(G);if(E[0].isCorrect===undefined){E[0].isCorrect=F}else{E[0].isCorrect=E[0].isCorrect&&F}}});return{result:y,score:B,maxScore:A.maxScoreValue}}return{getQuestion:p,getAnswer:s,getFeedback:e,onDragStart:k,onDrop:d,onDragOver:w,onTouchMove:i,checkAnswer:l,resetAll:t}}());var Arithmetic=(function(){var d="Fill in the blanks with appropriate answers.",e=/^[a-zA-Z\?\[\]:;\\<>|()@#$%\^&!`"' ]$/;function c(m){return new RegExp(/(BLANK[\d]*)/,m)}function g(m){if(m===undefined||m===null){m={}}var n='<input type="text" ';Object.keys(m).forEach(function(o){n+=o+'="'+m[o]+'" '});n+="/>";return n}function h(m){if(this!==m.target||m.defaultPrevented){return}if(m.key.match(e)){m.preventDefault()}}function l(n){if(this!==n.target||n.defaultPrevented){return}if(n.key==="Enter"){n.target.value=n.target.value.trim();var m=document.querySelector(".answer-actions button.submit");if(m){m.click()}}}function b(m){if(this!==m.target||m.defaultPrevented){return}m.target.value=m.target.value.trim()}function j(n){var m=document.createElement("p");m.innerHTML=n.replace(c("g"),function(o){return g({id:o})});m.classList.add("fill-in-the-blanks-question");m.querySelectorAll('input[type="text"]').forEach(function(o){o.addEventListener("keydown",h);o.addEventListener("keyup",l);o.addEventListener("blur",b)});return m}function a(m){if(m===undefined||m===null){m=true}if(m){var n=document.createElement("p");n.appendChild(document.createTextNode(d));n.classList.add("instructions");return n}return null}function i(m){return[a(),j(m.questionText)]}function f(m){var o=document.createElement("p"),n=document.createElement("p");o.innerHTML="<b>Correct Answer: </b>"+m.correctAnswer;o.classList.add("feedback-correct-answer");n.innerHTML="<b>You answered: </b>"+m.selected;n.classList.add("feedback-selected-answer");return[o,n]}function k(o){var q=o.maxScoreValue,p=0,n=o.questionText,m=o.questionText;o.answers.forEach(function(r){n=n.replace(c(),function(){return"<b>"+r.answerText+"</b>"})});document.querySelectorAll('input[type="text"]').forEach(function(s,r){var u=o.answers[r],t=s.value.toUpperCase(),v;m=m.replace(s.id,"<b>"+t+"</b>");if(u.answerText.toUpperCase()===t){p+=u.scoreValue}else{if(u.altAnswers){v=u.altAnswers.find(function(w){return w.answerText.toUpperCase()===t});if(v){p+=v.scoreValue}}}});return{maxScore:q,score:p,correctAnswer:n,selected:m}}return{getQuestion:i,getFeedback:f,checkAnswer:k}}());var MultipleChoice=(function(){function c(f){var h=document.createElement("div"),g=f.answers.map(function(j,i){var l="radioButton"+i,m=document.createElement("input"),k=document.createElement("label");m.setAttribute("type","radio");m.setAttribute("id",l);m.setAttribute("value",i);m.setAttribute("name","selectedAnswer");k.appendChild(document.createTextNode(j.answerText));k.classList.add("radio-label");k.setAttribute("for",l);h.appendChild(m);h.appendChild(k);return h});h.classList.add("answer-container");return g}function a(i){var j=0,k=i.maxScoreValue,f=i.answers.map(function(m,l){m.id=l;return m}),h=f.find(function(l){return l.scoreValue>0}),g=f.find(function(n,l){var m=document.getElementById("radioButton"+l);return m.checked});if(g){g.isCorrect=h.id===g.id}else{g={isCorrect:false,answerText:""}}return{score:g.isCorrect?k:j,maxScore:k,correctAnswer:h.answerText,selected:g.answerText,result:g}}function b(f,g){if(g==="c"){f={className:"feedback-correct-answer",boldText:"Correct Answer: ",value:f.correctAnswer}}else{if(g==="s"){f={className:"feedback-selected-answer",boldText:"You selected: ",value:f.selected}}else{if(g==="f"){f={className:"feedback-item",boldText:"Feedback: ",value:f.result.feedBack||""}}}}return f}function e(g,j){var f=b(g,j),i=document.createElement("p"),h=document.createElement("b"),k=document.createTextNode(f.value);i.classList.add(f.className);h.appendChild(document.createTextNode(f.boldText));i.appendChild(h);i.appendChild(k);return i}function d(f){var i=e(f,"c"),h=e(f,"s"),g=e(f,"f");return[i,h,g]}return{getAnswer:c,checkAnswer:a,getFeedback:d}}());var Ordering=(function(){function d(){return Math.random()>0.5}function b(j){var i=j.currentTarget.parentElement,h=[];i.querySelectorAll('option[disabled="true"]').forEach(function(k){k.removeAttribute("disabled")});i.querySelectorAll("select").forEach(function(k){if(k.value){h='select:not([name="'+k.name+'"])';h+='[value="'+k.value+'"]';i.querySelectorAll(h).forEach(function(l){l.value=undefined});h='select:not([name="'+k.name+'"]) ';h+='option[value="'+k.value+'"]';i.querySelectorAll(h).forEach(function(l){l.setAttribute("disabled","true")})}})}function g(h){if(h===undefined||h===null){h=0}var j=document.createElement("select"),k=document.createElement("option");j.appendChild(k);while(j.children.length<=h){k=document.createElement("option");k.appendChild(document.createTextNode(j.children.length));k.setAttribute("value",j.children.length);j.appendChild(k)}j.setAttribute("onchange","onChange(event)");return j}function f(j){var i=j.sort(d),h=document.createElement("div");h.classList.add("answer-container");i.forEach(function(l){var k=g(j.length);k.setAttribute("name",l.answerText);h.appendChild(k);k=document.createElement("p");k.classList.add("select-text");k.appendChild(document.createTextNode(l.answerText));h.appendChild(k)});return h}function c(i){var h;if(i.dragAndDrop){h=[]}else{h=f(i.answers)}return[h]}function e(h){var j=document.createElement("h2"),l=document.createElement("div"),k,i;j.appendChild(document.createTextNode("Feedback"));j.classList.add("feedback-title");l.classList.add("feedback-container","flex-wrap");h.answers.forEach(function(m){k=document.createElement("span");k.classList.add("feedback-answer-value");k.appendChild(document.createTextNode(document.querySelector('select[name="'+m.answerText+'"]').value));if(!m.isCorrect){i=document.createElement("span");i.classList.add("wrong");i.appendChild(document.createTextNode("("+m.key+")"));k.appendChild(i)}l.appendChild(k);k=document.createElement("span");k.classList.add("feedback-answer-label");k.appendChild(document.createTextNode(m.answerText+" ("+m.feedback+")"));l.appendChild(k)});return[j,l]}function a(j){var h={},i;h.score=0;h.maxScore=j.maxScoreValue;h.answers=j.answers.map(function(k){i=document.querySelector('select[name="'+k.answerText+'"]');k.isCorrect=Number(k.key)===Number(i.value);if(h.isCorrect===undefined){h.isCorrect=k.isCorrect}else{h.isCorrect=h.isCorrect&&k.isCorrect}if(k.isCorrect){h.score+=k.scoreValue||0;k.feedback=k.correct}else{k.feedback=k.wrong}return k});if(h.isCorrect){h.score=h.maxScore}return h}return{getAnswer:c,getFeedback:e,checkAnswer:a,onChange:b}}());